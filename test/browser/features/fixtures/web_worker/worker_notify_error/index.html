<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script type="text/javascript">
      var NOTIFY = decodeURIComponent(window.location.search.match(/NOTIFY=([^&]+)/)[1])
      var SESSIONS = decodeURIComponent(window.location.search.match(/SESSIONS=([^&]+)/)[1])
      var API_KEY = decodeURIComponent(window.location.search.match(/API_KEY=([^&]+)/)[1])
    </script>
  </head>
  <body>
    <div id="debugDiv"></div>
    <script>
      if (typeof console  != "undefined") 
        if (typeof console.log != 'undefined')
            console.olog = console.log
        else
            console.olog = function() {}

      console.log = function(message) {
          console.olog(message)
          $('#debugDiv').append('<p>' + message + '</p>')
      }
      console.error = console.debug = console.info =  console.log
    </script>
    <script>
        var worker = new Worker('worker.js')
        worker.onmessage = function () { worker.postMessage({ type: 'bugsnag-notify' }) } 
        worker.postMessage({ type: 'bugsnag-start', payload: { NOTIFY, SESSIONS, API_KEY } })
    </script>
  </body>
</html>
